{"ast":null,"code":"import _slicedToArray from\"/Users/sagyblecher/Desktop/sb/moveo_coding_app/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from\"react\";import{useNavigate}from\"react-router-dom\";import{io}from\"socket.io-client\";import\"../App.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Lobby(){var navigate=useNavigate();var _useState=useState(),_useState2=_slicedToArray(_useState,2),socket=_useState2[0],setSocket=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),codeBlocks=_useState4[0],setCodeBlocks=_useState4[1];var handleButtonClick=function handleButtonClick(blockId){navigate(\"/codeBlocks/\".concat(blockId));};// Handle self text change.\nuseEffect(function(){if(socket==null)return;socket.emit(\"get-blocks\");var handler=function handler(blocks){setCodeBlocks(blocks);console.log(blocks);};socket.on(\"receive-blocks\",handler);return function(){socket.off(\"receive-blocks\",handler);};},[socket]);// Configure server connection.\nuseEffect(function(){var s=io(\"https://web-coding-app-server.onrender.com/\");setSocket(s);return function(){s.disconnect();};},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"container-c\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Choose Code Block\"}),/*#__PURE__*/_jsx(\"div\",{className:\"buttons-div\",children:codeBlocks.length!==0?codeBlocks.map(function(codeBlock){return/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return handleButtonClick(codeBlock.id);},children:codeBlock.title},codeBlock.id);}):/*#__PURE__*/_jsx(\"span\",{children:\"Loading...\"})})]});}export default Lobby;","map":{"version":3,"names":["React","useState","useEffect","useNavigate","io","jsx","_jsx","jsxs","_jsxs","Lobby","navigate","_useState","_useState2","_slicedToArray","socket","setSocket","_useState3","_useState4","codeBlocks","setCodeBlocks","handleButtonClick","blockId","concat","emit","handler","blocks","console","log","on","off","s","disconnect","className","children","length","map","codeBlock","onClick","id","title"],"sources":["/Users/sagyblecher/Desktop/sb/moveo_coding_app/client/src/pages/Lobby.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { io } from \"socket.io-client\";\n\nimport \"../App.css\";\n\nfunction Lobby() {\n  const navigate = useNavigate();\n  const [socket, setSocket] = useState();\n  const [codeBlocks, setCodeBlocks] = useState([]);\n\n  const handleButtonClick = (blockId) => {\n    navigate(`/codeBlocks/${blockId}`);\n  };\n\n  // Handle self text change.\n  useEffect(() => {\n    if (socket == null) return;\n    socket.emit(\"get-blocks\");\n    const handler = (blocks) => {\n      setCodeBlocks(blocks);\n      console.log(blocks);\n    };\n\n    socket.on(\"receive-blocks\", handler);\n    return () => {\n      socket.off(\"receive-blocks\", handler);\n    };\n  }, [socket]);\n\n  // Configure server connection.\n  useEffect(() => {\n    const s = io(\"https://web-coding-app-server.onrender.com/\");\n    setSocket(s);\n    return () => {\n      s.disconnect();\n    };\n  }, []);\n\n  return (\n    <div className=\"container-c\">\n      <h1>Choose Code Block</h1>\n      <div className=\"buttons-div\">\n        {codeBlocks.length !== 0 ? (\n          codeBlocks.map((codeBlock) => (\n            <button\n              onClick={() => handleButtonClick(codeBlock.id)}\n              key={codeBlock.id}\n            >\n              {codeBlock.title}\n            </button>\n          ))\n        ) : (\n          <span>Loading...</span>\n        )}\n      </div>\n    </div>\n  );\n}\n\nexport default Lobby;\n"],"mappings":"2IAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,OAASC,WAAW,KAAQ,kBAAkB,CAC9C,OAASC,EAAE,KAAQ,kBAAkB,CAErC,MAAO,YAAY,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAEpB,QAAS,CAAAC,KAAKA,CAAA,CAAG,CACf,GAAM,CAAAC,QAAQ,CAAGP,WAAW,CAAC,CAAC,CAC9B,IAAAQ,SAAA,CAA4BV,QAAQ,CAAC,CAAC,CAAAW,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAA/BG,MAAM,CAAAF,UAAA,IAAEG,SAAS,CAAAH,UAAA,IACxB,IAAAI,UAAA,CAAoCf,QAAQ,CAAC,EAAE,CAAC,CAAAgB,UAAA,CAAAJ,cAAA,CAAAG,UAAA,IAAzCE,UAAU,CAAAD,UAAA,IAAEE,aAAa,CAAAF,UAAA,IAEhC,GAAM,CAAAG,iBAAiB,CAAG,QAApB,CAAAA,iBAAiBA,CAAIC,OAAO,CAAK,CACrCX,QAAQ,gBAAAY,MAAA,CAAgBD,OAAO,CAAE,CAAC,CACpC,CAAC,CAED;AACAnB,SAAS,CAAC,UAAM,CACd,GAAIY,MAAM,EAAI,IAAI,CAAE,OACpBA,MAAM,CAACS,IAAI,CAAC,YAAY,CAAC,CACzB,GAAM,CAAAC,OAAO,CAAG,QAAV,CAAAA,OAAOA,CAAIC,MAAM,CAAK,CAC1BN,aAAa,CAACM,MAAM,CAAC,CACrBC,OAAO,CAACC,GAAG,CAACF,MAAM,CAAC,CACrB,CAAC,CAEDX,MAAM,CAACc,EAAE,CAAC,gBAAgB,CAAEJ,OAAO,CAAC,CACpC,MAAO,WAAM,CACXV,MAAM,CAACe,GAAG,CAAC,gBAAgB,CAAEL,OAAO,CAAC,CACvC,CAAC,CACH,CAAC,CAAE,CAACV,MAAM,CAAC,CAAC,CAEZ;AACAZ,SAAS,CAAC,UAAM,CACd,GAAM,CAAA4B,CAAC,CAAG1B,EAAE,CAAC,6CAA6C,CAAC,CAC3DW,SAAS,CAACe,CAAC,CAAC,CACZ,MAAO,WAAM,CACXA,CAAC,CAACC,UAAU,CAAC,CAAC,CAChB,CAAC,CACH,CAAC,CAAE,EAAE,CAAC,CAEN,mBACEvB,KAAA,QAAKwB,SAAS,CAAC,aAAa,CAAAC,QAAA,eAC1B3B,IAAA,OAAA2B,QAAA,CAAI,mBAAiB,CAAI,CAAC,cAC1B3B,IAAA,QAAK0B,SAAS,CAAC,aAAa,CAAAC,QAAA,CACzBf,UAAU,CAACgB,MAAM,GAAK,CAAC,CACtBhB,UAAU,CAACiB,GAAG,CAAC,SAACC,SAAS,qBACvB9B,IAAA,WACE+B,OAAO,CAAE,SAAAA,QAAA,QAAM,CAAAjB,iBAAiB,CAACgB,SAAS,CAACE,EAAE,CAAC,EAAC,CAAAL,QAAA,CAG9CG,SAAS,CAACG,KAAK,EAFXH,SAAS,CAACE,EAGT,CAAC,EACV,CAAC,cAEFhC,IAAA,SAAA2B,QAAA,CAAM,YAAU,CAAM,CACvB,CACE,CAAC,EACH,CAAC,CAEV,CAEA,cAAe,CAAAxB,KAAK"},"metadata":{},"sourceType":"module","externalDependencies":[]}